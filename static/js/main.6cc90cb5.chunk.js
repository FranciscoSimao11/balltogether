(this.webpackJsonpballtogether=this.webpackJsonpballtogether||[]).push([[0],{185:function(e,t,n){},296:function(e,t,n){},297:function(e,t,n){},303:function(e,t,n){},305:function(e,t,n){},306:function(e,t,n){},307:function(e,t,n){},506:function(e,t,n){},512:function(e,t,n){},513:function(e,t,n){},514:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"login",(function(){return d})),n.d(a,"logout",(function(){return h})),n.d(a,"updateSessionInfo",(function(){return b}));var i=n(0),c=n.n(i),r=n(37),o=n.n(r),s=(n(296),n(297),n(12)),l=n(20),j=n(46),d=function(e){return function(t){t({type:"login",payload:e})}},h=function(e){return function(e){e({type:"logout",payload:null})}},b=function(e){return function(t){t({type:"updateSessionInfo",payload:e})}},u=n(599),p=(n(303),n(6)),x=n(595),f=n(594),O=n(597),g=n.p+"static/media/Man.1525f310.png",m=(n(185),n(598)),v=n(1),y=Object(p.a)(f.a)({fontFamily:"Verdana",position:"relative",left:"44%",paddingRight:"30px"});var S=function(){var e=Object(s.f)();return Object(v.jsx)(x.a,{sx:{backgroundColor:"black",display:"inline",height:"74px"},children:Object(v.jsxs)(O.a,{children:[Object(v.jsx)("img",{src:g,className:"logo",style:{cursor:"pointer"},onClick:function(){return e("/balltogether")}}),Object(v.jsx)(f.a,{variant:"h6",sx:{fontFamily:"Verdana",fontWeight:600},style:{cursor:"pointer"},onClick:function(){return e("/balltogether")},children:"Ball Together"}),Object(v.jsx)(y,{children:Object(v.jsx)(m.a,{href:"https://franciscosimao11.github.io/ipmwebsite/",sx:{textDecoration:"none",color:"white","&:hover":{color:"rgb(0, 178, 155)"}},children:"About Us"})}),Object(v.jsx)(y,{children:"|"}),Object(v.jsx)(y,{style:{cursor:"pointer"},onClick:function(){return e("/balltogether/login")},sx:{"&:hover":{color:"rgb(0, 178, 155)"}},children:"Login"}),Object(v.jsx)(y,{style:{cursor:"pointer"},onClick:function(){return e("/balltogether/register")},sx:{"&:hover":{color:"rgb(0, 178, 155)"}},children:"Register"})]})})},w=Object(p.a)(u.a)({color:"white",backgroundColor:"black",marginRight:"80px",fontSize:"28px",padding:"20px","&:hover":{backgroundColor:"#4b4b4b"}}),C=Object(p.a)(u.a)({color:"white",backgroundColor:"#02612f",fontSize:"28px",marginLeft:"80px",padding:"20px 40px 20px 40px","&:hover":{backgroundColor:"#179a55"}});var k=function(){var e=Object(s.f)();return Object(v.jsxs)("div",{children:[Object(v.jsx)(S,{}),Object(v.jsxs)("div",{className:"Slogan-wrapper",children:[Object(v.jsx)("div",{className:"Slogan",children:"Play the"}),Object(v.jsx)("div",{className:"Slogan2",children:"Beautiful Game!"})]}),Object(v.jsxs)("div",{className:"Button-wrapper",children:[Object(v.jsx)(w,{variant:"contained",onClick:function(){return e("/balltogether/register")},children:"Register"}),Object(v.jsx)(C,{variant:"contained",onClick:function(){return e("/balltogether/login")},children:"Login"})]})]})},T=n(15),N=n(4),I=(n(305),n(581)),L=n(172),M=n.n(L),E=n(173),R=n.n(E),P=n(583),z=n(592),F=n(591),A=n(55),B=n.n(A),D=Object(p.a)(I.a)({marginTop:-10,paddingBottom:20,"& label.Mui-focused":{color:"white"},"& label":{color:"rgb(255,255,255,0.7)"},"& input":{color:"white"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"gray"},"&:hover fieldset":{borderColor:"white"},"&.Mui-focused fieldset":{borderColor:"white"}}}),J=Object(p.a)(u.a)({color:"white",backgroundColor:"black",fontSize:"16px",padding:"16px 60px 16px 60px","&:hover":{backgroundColor:"#4b4b4b"}});var H=function(){var e=Object(i.useState)({name:"",id:"",phone:"",password:""}),t=Object(N.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)(!1),r=Object(N.a)(c,2),o=r[0],l=r[1],j=Object(i.useState)("password"),d=Object(N.a)(j,2),h=d[0],b=d[1],u=Object(i.useState)("password"),p=Object(N.a)(u,2),x=p[0],f=p[1],O=Object(i.useState)(!1),m=Object(N.a)(O,2),y=m[0],S=m[1],w=Object(i.useState)(!1),C=Object(N.a)(w,2),k=C[0],I=C[1],L=Object(i.useState)(!1),E=Object(N.a)(L,2),A=E[0],H=E[1],W=Object(s.f)();return Object(i.useEffect)((function(){o&&(""!=n.id&&""!=n.password?fetch("http://localhost:8000/users",{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:JSON.stringify(Object(T.a)(Object(T.a)({},n),{},{preferredPosition:"",matchHistory:[],nextMatches:[],watchlist:[],friends:[],socialMedia:[],avatar:"https://img.icons8.com/emoji/256/smiling-face-with-smiling-eyes.png",banner:""}))}).then((function(e){S(!0),H(!0)})):(l(!1),I(!0)))}),[o]),Object(i.useEffect)((function(){y&&setTimeout((function(){W("/balltogether/login")}),2500)}),[y]),Object(v.jsxs)("div",{className:"global-wrapper",children:[Object(v.jsx)("img",{src:g,className:"logo-register"}),Object(v.jsx)("p",{className:"header-register",children:"Ball Together"}),Object(v.jsx)(F.a,{in:k,children:Object(v.jsx)(P.a,{variant:"filled",severity:"error",sx:{paddingInline:"10px",marginBottom:"10px",width:"200px"},action:Object(v.jsx)(z.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){I(!1)},children:Object(v.jsx)(B.a,{fontSize:"inherit"})}),children:"Email and Password cannot be empty!"})}),Object(v.jsxs)("div",{className:"form",children:[Object(v.jsx)(D,{label:"Name",required:!0,onChange:function(e){a({name:e.currentTarget.value,id:n.id,phone:n.phone,password:n.password})}}),Object(v.jsx)(D,{label:"Email Address",required:!0,onChange:function(e){a({name:n.name,id:e.currentTarget.value,phone:n.phone,password:n.password})}}),Object(v.jsx)(D,{label:"Confirm Email Address",required:!0}),Object(v.jsx)(D,{label:"Phone Number",required:!0,type:"number",onChange:function(e){a({name:n.name,id:n.id,phone:e.currentTarget.value,password:n.password})}}),Object(v.jsxs)("div",{children:[Object(v.jsx)(D,{label:"Password",type:h,required:!0,onChange:function(e){a({name:n.name,id:n.id,phone:n.phone,password:e.currentTarget.value})}}),"password"==h&&Object(v.jsx)(M.a,{sx:{color:"white",marginRight:"-35px",paddingLeft:"10px",marginTop:"5px","&:hover":{color:"rgb(255,255,255,0.6)"}},onClick:function(){b("password"==h?"text":"password")}}),"text"==h&&Object(v.jsx)(R.a,{sx:{color:"white",marginRight:"-35px",paddingLeft:"10px",marginTop:"5px","&:hover":{color:"rgb(255,255,255,0.6)"}},onClick:function(){b("password")}})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)(D,{label:"Confirm Password",type:x,required:!0,onKeyDown:function(e){"Enter"===e.key&&l(!0)}}),"password"==x&&Object(v.jsx)(M.a,{sx:{color:"white",marginRight:"-35px",paddingLeft:"10px",marginTop:"5px","&:hover":{color:"rgb(255,255,255,0.6)"}},onClick:function(){f("password"==x?"text":"password")}}),"text"==x&&Object(v.jsx)(R.a,{sx:{color:"white",marginRight:"-35px",paddingLeft:"10px",marginTop:"5px","&:hover":{color:"rgb(255,255,255,0.6)"}},onClick:function(){f("password")}})]}),Object(v.jsx)(J,{variant:"contained",onClick:function(){l(!0)},children:"Register"}),Object(v.jsx)(F.a,{in:A,children:Object(v.jsx)(P.a,{variant:"filled",severity:"success",sx:{paddingInline:"10px",marginBottom:"10px",width:"300px",transform:"translateX(-80vh) translateY(-2vh)"},action:Object(v.jsx)(z.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){H(!1)},children:Object(v.jsx)(B.a,{fontSize:"inherit"})}),children:"Successfully registered account! Redirecting..."})})]})]})},W=n.p+"static/media/campo.00451ecc.png",U=(n(306),Object(p.a)(I.a)({paddingBottom:20,width:260,"& label.Mui-focused":{color:"white"},"& label":{color:"white"},"& input":{color:"white"},"&:focus":{fontWeight:800},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"white"},"&:hover fieldset":{borderColor:"white"},"&.Mui-focused fieldset":{borderColor:"white"}}})),G=Object(p.a)(u.a)({color:"white",backgroundColor:"#282b29",fontSize:"28px",marginTop:"20px",padding:"6px 90px 6px 90px","&:hover":{backgroundColor:"#4b4b4b"}});var V=function(){var e=Object(l.c)((function(e){return e})),t=Object(l.b)(),n=Object(j.b)(a,t),c=n.login,r=(n.logout,Object(i.useState)({id:"",password:""})),o=Object(N.a)(r,2),d=o[0],h=o[1],b=Object(i.useState)(!1),u=Object(N.a)(b,2),p=u[0],x=u[1],f=Object(i.useState)(!1),O=Object(N.a)(f,2),m=O[0],y=O[1],S=Object(i.useState)(!1),w=Object(N.a)(S,2),C=w[0],k=w[1],T=Object(i.useState)(!1),I=Object(N.a)(T,2),L=(I[0],I[1],Object(s.f)());return Object(i.useEffect)((function(){p&&fetch("http://localhost:8000/users/"+d.id,{method:"GET"}).then((function(e){return e.json()})).then((function(e){e.password==d.password?(c(e),y(!0)):(x(!1),k(!0))}))}),[p]),Object(i.useEffect)((function(){m&&(localStorage.setItem("activeUser",JSON.stringify(e)),L("/balltogether/home"))}),[m]),Object(v.jsxs)("div",{className:"global-container",children:[Object(v.jsx)("img",{src:W,className:"pitch"}),Object(v.jsxs)("div",{className:"wrapper",children:[Object(v.jsx)("img",{src:g,className:"logo-register"}),Object(v.jsx)("p",{className:"header-register",children:"Ball Together"}),Object(v.jsx)(F.a,{in:C,children:Object(v.jsx)(P.a,{variant:"filled",severity:"error",sx:{paddingInline:"10px",width:"250px"},action:Object(v.jsx)(z.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){k(!1)},children:Object(v.jsx)(B.a,{fontSize:"inherit"})}),children:"Email or password incorrect!"})}),Object(v.jsxs)("div",{className:"form",children:[Object(v.jsx)(U,{label:"Email",onChange:function(e){h({id:e.currentTarget.value,password:d.password})}}),Object(v.jsx)(U,{label:"Password",type:"password",onChange:function(e){h({id:d.id,password:e.currentTarget.value})},onKeyDown:function(e){"Enter"===e.key&&x(!0)}}),Object(v.jsx)(G,{variant:"contained",onClick:function(){x(!0)},children:"Login"})]}),Object(v.jsx)("div",{className:"phrase",children:"Forgot your password?"}),Object(v.jsxs)("div",{className:"phrase",children:["Don't have an account?",Object(v.jsxs)("b",{onClick:function(){L("/balltogether/register")},children:[" ","Register"," "]}),"now!"]})]})]})},q=(n(307),n(3)),K=n(33),X=n(576),Y=n(577),_=n(268),Z=n(585),Q=n(248),$=n.n(Q),ee=n(588),te=Object(p.a)(f.a)({fontFamily:"Verdana",position:"relative",left:"44%",paddingRight:"30px"}),ne=Object(p.a)("div")((function(e){var t=e.theme;return Object(q.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:"rgb(255,255,255,0.15)","&:hover":{backgroundColor:"rgb(255,255,255,0.25)"},marginRight:t.spacing(2),width:"100%"},t.breakpoints.up("sm"),{marginLeft:"100px",width:"auto"})})),ae=Object(p.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),ie=Object(p.a)(K.c)((function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":Object(q.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("md"),{width:"58ch"})}}));function ce(){var e=c.a.useState(null),t=Object(N.a)(e,2),n=t[0],a=t[1],i=Boolean(n),r=function(){a(null)};return Object(v.jsxs)("div",{children:[Object(v.jsx)(u.a,{onClick:function(e){a(e.currentTarget)},sx:{color:"white",width:"0px",minWidth:"0px",padding:"0px"},children:Object(v.jsx)(X.a,{sx:{fontSize:"2.2rem",marginX:"-8px","&:hover":{color:"rgb(0, 178, 155)"}}})}),Object(v.jsx)(_.a,{anchorEl:n,open:i,onClose:r,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},sx:{marginTop:"40px"},children:Object(v.jsx)(Z.a,{onClick:r,children:"No notifications at the moment."})})]})}function re(){var e=Object(l.c)((function(e){return e})),t=Object(l.b)(),n=Object(j.b)(a,t).logout,i=e.session,r=c.a.useState(null),o=Object(N.a)(r,2),d=o[0],h=o[1],b=Boolean(d),p=Object(s.f)(),x=c.a.useRef(null);return Object(v.jsxs)("div",{children:[Object(v.jsx)(u.a,{onClick:function(e){h(e.currentTarget)},sx:{color:"white",width:"0px",minWidth:"0px",padding:"0px"},children:Object(v.jsx)(Y.a,{sx:{fontSize:"1.5rem",marginRight:"30px","&:hover":{color:"rgb(0, 178, 155)"}}})}),Object(v.jsxs)(_.a,{anchorEl:d,open:b,onClose:function(e){x.current&&x.current.contains(e.target)||h(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},sx:{marginTop:"40px",marginLeft:"-20px"},children:[Object(v.jsx)(Z.a,{onClick:function(){h(null),p("/balltogether/profile/".concat(i.id))},children:"Profile"}),Object(v.jsx)(Z.a,{onClick:function(){h(null),n(e.session),localStorage.removeItem("activeUser"),p("/balltogether")},children:"Logout"})]})]})}for(var oe=function(){var e=Object(l.c)((function(e){return e})).session,t=Object(i.useState)(),n=Object(N.a)(t,2),a=n[0],c=n[1],r=Object(s.f)();return Object(i.useEffect)((function(){a||(a?fetch("http://localhost:8000/users/"+a.id,{method:"GET"}).then((function(e){return e.json()})).then((function(e){c(e)})):fetch("http://localhost:8000/users/"+e.id,{method:"GET"}).then((function(e){return e.json()})).then((function(e){c(e)})))}),[a]),Object(v.jsx)(x.a,{sx:{backgroundColor:"black",display:"inline",height:"74px"},children:a&&Object(v.jsxs)(O.a,{children:[Object(v.jsx)("img",{src:g,className:"logo",style:{cursor:"pointer"},onClick:function(){return r("/balltogether/home")}}),Object(v.jsx)(f.a,{variant:"h6",sx:{fontFamily:"Verdana",fontWeight:600,whiteSpace:"nowrap"},onClick:function(){return r("/balltogether/home")},style:{cursor:"pointer"},children:"Ball Together"}),Object(v.jsxs)(ne,{children:[Object(v.jsx)(ae,{children:Object(v.jsx)($.a,{})}),Object(v.jsx)(ie,{placeholder:"Search for a user...",inputProps:{"aria-label":"search"}})]}),Object(v.jsxs)("div",{style:{display:"flex",marginInline:"31.5px",alignItems:"center"},children:[Object(v.jsx)(te,{children:"|"}),Object(v.jsx)(te,{children:Object(v.jsx)(ce,{})}),Object(v.jsxs)(te,{onClick:function(){return r("/balltogether/profile/".concat(e.id))},style:{cursor:"pointer"},children:[""!=a.avatar&&Object(v.jsx)(ee.a,{sx:{marginX:"0px",height:"33px",width:"33px",marginRight:"-10px",backgroundColor:"rgb(255,255,255,0.2)",borderRadius:"100%",overflow:"hidden"},src:a.avatar}),""==a.avatar&&Object(v.jsx)(ee.a,{sx:{marginX:"0px",height:"33px",width:"33px",marginRight:"-10px",backgroundColor:"rgb(255,255,255,0.2)",borderRadius:"100%",overflow:"hidden"},src:"https://img.icons8.com/emoji/256/smiling-face-with-smiling-eyes.png"})]}),Object(v.jsx)(te,{onClick:function(){return r("/balltogether/profile/".concat(e.id))},style:{cursor:"pointer"},sx:{"&:hover":{color:"rgb(0, 178, 155)"}},children:"Profile"}),Object(v.jsx)(te,{children:Object(v.jsx)(re,{})})]})]})})},se=[],le=0;le<=5;le++)se[le]=le.toFixed(1);var je=se;function de(e){var t;return t=e%1==0?":00":":30",t=e<10?"0"+parseInt(e)+t:parseInt(e)+t}for(var he=[],be=0;be<24;be++)he[be]=de(be);var ue=he;function pe(e){for(var t=0,n=0;n<e.length;n++)t+=parseFloat(e[n].avgRating);return(Math.round(t/e.length*100)/100).toFixed(2)}var xe=n(254),fe=n.n(xe),Oe=n(253),ge=n.n(Oe),me=n(255),ve=n.n(me),ye=(n(580),n(578),n(579),n(593)),Se=n(135),we=n.n(Se),Ce=n(249),ke=n(74),Te=n.p+"static/media/ball.dc39c2a7.png",Ne=[{featureType:"all",elementType:"all",stylers:[{invert_lightness:!0},{saturation:10},{lightness:30},{gamma:.5},{hue:"#435158"}]}],Ie=n(107),Le=(n(505),n(139)),Me=n(175),Ee=n.n(Me),Re=Object(p.a)(u.a)({color:"white",backgroundColor:"black",fontSize:"10px",padding:"5px 20px 5px 20px","&:hover":{backgroundColor:"#4b4b4b"}}),Pe=Object(ke.withScriptjs)(Object(ke.withGoogleMap)((function(e){var t=Object(i.useState)(),n=Object(N.a)(t,2),a=n[0],c=n[1];Object(i.useEffect)((function(){fetch("http://localhost:8000/matches/",{method:"GET"}).then((function(e){return e.json()})).then((function(t){c(void 0),c(t.filter((function(t){return function(e,t){if(void 0==t){var n=new Date,a=n.getDate(),i=n.getMonth()+1,c=n.getFullYear(),r=e.date.split("/");return r[2]>=c&&r[1]>=i&&r[0]>=a}var o=t.date.split("-"),s=o[2]+"/"+o[1]+"/"+o[0];return e.date==s&&parseInt(e.startingTime.split(":",1)[0])>=parseInt(t.startHour.split(":",1)[0])&&parseInt(e.startingTime.split(":",1)[0])<=parseInt(t.endHour.split(":",1)[0])&&parseInt(e.skillLevel)>=parseInt(t.minLevel)&&parseInt(e.skillLevel)<=parseInt(t.maxLevel)}(t,e.filters)})))}))}),[e]);var r=Object(i.useState)(void 0),o=Object(N.a)(r,2),l=o[0],j=o[1],d=Object(s.f)(),h=Object(Le.a)({requestOptions:{location:{lat:function(){return 38.660988},lng:function(){return-9.203319}},radius:1e5}}),b=(h.ready,h.value),u=h.suggestions,p=(u.status,u.data),x=h.setValue,f=h.clearSuggestions,O=Object(i.useState)({lat:38.660988,lng:-9.203319}),g=Object(N.a)(O,2),m=g[0],y=g[1],S=Object(i.useState)({lat:38.660988,lng:-9.203319}),w=Object(N.a)(S,2),C=w[0],k=w[1];return Object(i.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){y({lat:e.coords.latitude,lng:e.coords.longitude}),k({lat:e.coords.latitude,lng:e.coords.longitude})}))}),[]),Object(i.useEffect)((function(){Ee.a.setApiKey("AIzaSyApqDepx72qyciy7FwFjxAmFFKSrtm78ws")}),[]),Object(i.useEffect)((function(){}),[a]),Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{style:{position:"absolute",zIndex:10,transform:"translateY(-89vh) translateX(70vh)",height:"33px"},children:Object(v.jsxs)(Ie.a,{onSelect:function(){var e=Object(Ce.a)(we.a.mark((function e(t){var n,a,i,c;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(t,!1),f(),e.prev=2,e.next=5,Object(Le.b)({address:t});case 5:return n=e.sent,e.next=8,Object(Le.c)(n[0]);case 8:a=e.sent,i=a.lat,c=a.lng,y({lat:i,lng:c}),k({lat:i,lng:c}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log("error");case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(v.jsx)(Ie.b,{value:b,onChange:function(e){x(e.target.value)},placeholder:"Search",style:{height:"33px",width:"300px",fontSize:"18px",outline:"none",border:"none",color:"black",appearance:"none"}}),Object(v.jsx)(Ie.d,{children:p.map((function(e){var t=e.id,n=e.description;return Object(v.jsx)(Ie.c,{value:n},t)}))})]})}),m&&Object(v.jsxs)(ke.GoogleMap,{defaultZoom:16,center:{lat:C.lat,lng:C.lng},defaultOptions:{styles:Ne},onClick:function(t){e.interactive&&(e.markerCallback({lat:t.latLng.lat(),lng:t.latLng.lng()}),k({lat:t.latLng.lat(),lng:t.latLng.lng()}),Ee.a.fromLatLng(t.latLng.lat().toString(),t.latLng.lng().toString()).then((function(t){var n=t.results[0].formatted_address,a="";if(n.includes("+")){for(var i=n.split(" "),c=1;c<i.length;c++)a+=i[c]+" ";e.locationCallback(a)}else e.locationCallback(n)}),(function(e){console.error(e)})))},children:[e.marker&&Object(v.jsx)(ke.Marker,{position:{lat:e.marker.lat,lng:e.marker.lng}}),void 0!=a&&a.map((function(e){return Object(v.jsx)(ke.Marker,{position:{lat:e.location.latitude,lng:e.location.longitude},icon:{url:Te},onClick:function(){j(e)}},e.host)})),l&&Object(v.jsx)(ke.InfoWindow,{position:{lat:l.location.latitude,lng:l.location.longitude},onCloseClick:function(){j(void 0)},children:Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{children:l.location.name}),Object(v.jsxs)("div",{style:{textAlign:"center"},children:[Object(v.jsxs)("div",{style:{textAlign:"left",marginBottom:"10px"},children:[Object(v.jsx)("b",{children:"Date: "}),l.date," ",Object(v.jsx)("br",{}),Object(v.jsx)("b",{children:"Starting: "}),l.startingTime,"h ",Object(v.jsx)("br",{}),Object(v.jsx)("b",{children:"Duration: "}),l.duration,"h ",Object(v.jsx)("br",{}),Object(v.jsx)("b",{children:"Number of Spots left: "}),l.numberOfSpotsLeft,Object(v.jsx)("br",{}),Object(v.jsx)("b",{children:"Skil Level: "}),l.skillLevel," ",Object(v.jsx)("br",{}),Object(v.jsx)("b",{children:"Host Name: "}),l.host," ",Object(v.jsx)("br",{}),Object(v.jsx)("b",{children:"Description: "}),l.description," ",Object(v.jsx)("br",{})]}),Object(v.jsx)(Re,{onClick:function(){d("/balltogether/match/"+l.id)},children:"View Match"})]})]})})]})]})})));function ze(e){return Object(v.jsx)(Pe,{position:e.position,marker:e.marker,markerCallback:e.markerCallback,location:e.location,locationCallback:e.locationCallback,interactive:e.interactive,filters:e.filters,containerElement:Object(v.jsx)("div",{style:e.mapStyle}),mapElement:Object(v.jsx)("div",{style:{height:"100%"}}),googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyApqDepx72qyciy7FwFjxAmFFKSrtm78ws",loadingElement:Object(v.jsx)("div",{style:{height:"100%"}})})}var Fe=Object(p.a)(u.a)({marginTop:"170px",padding:"20px 50px 20px 50px",marginRight:"15px",color:"rgb(0, 178, 155)",fontSize:"25px",backgroundColor:"black",fontWeight:"bold","&:hover":{color:"rgb(0, 178, 155)",backgroundColor:"#293030"}});var Ae=function(){Object(l.c)((function(e){return e}));var e=Object(s.f)(),t=Object(i.useState)("2021-12-31"),n=Object(N.a)(t,2),a=n[0],c=n[1],r=Object(i.useState)("00:00"),o=Object(N.a)(r,2),j=o[0],d=o[1],h=Object(i.useState)("24:00"),b=Object(N.a)(h,2),u=b[0],p=b[1],x=Object(i.useState)("0.0"),f=Object(N.a)(x,2),O=f[0],g=f[1],m=Object(i.useState)("5.0"),y=Object(N.a)(m,2),S=y[0],w=y[1],C=Object(i.useState)({date:a,startHour:j,endHour:u,minLevel:O,maxLevel:S}),k=Object(N.a)(C,2),T=k[0],I=k[1];return Object(i.useEffect)((function(){I({date:a,startHour:j,endHour:u,minLevel:O,maxLevel:S})}),[a,j,u,O,S]),Object(v.jsxs)("div",{className:"logged-in-homepage-wrapper",children:[Object(v.jsx)(oe,{}),Object(v.jsxs)("div",{className:"select-wrapper",children:[Object(v.jsx)("h1",{style:{color:"white"},children:"Filter Matches"}),Object(v.jsxs)("div",{className:"select-and-icon",children:[Object(v.jsx)(ge.a,{sx:{color:"white",fontSize:"60px",marginRight:"25px"}}),Object(v.jsx)("input",{className:"input-shadow",defaultValue:"2021-12-31",type:"date",onChange:function(e){return c(e.target.value)},style:{minWidth:"185px"}})]}),Object(v.jsxs)("div",{className:"select-and-icon",children:[Object(v.jsx)(fe.a,{sx:{color:"white",fontSize:"60px",marginRight:"25px"}}),Object(v.jsx)("select",{className:"input-shadow",defaultValue:"00:00",onChange:function(e){return d(e.target.value)},style:{marginRight:"10px",minWidth:"90px"},children:Object(v.jsx)("optgroup",{label:"Starting After",children:ue.map((function(e){return Object(v.jsx)("option",{value:e,children:e})}))})}),Object(v.jsx)("select",{defaultValue:"24:00",onChange:function(e){return p(e.target.value)},style:{minWidth:"90px"},children:Object(v.jsx)("optgroup",{label:"Starting Before",children:ue.map((function(e){return Object(v.jsx)("option",{value:e,children:e})}))})})]}),Object(v.jsxs)("div",{className:"select-and-icon",children:[Object(v.jsx)(ve.a,{sx:{color:"white",fontSize:"60px",marginRight:"25px"}}),Object(v.jsx)("select",{defaultValue:"0.0",onChange:function(e){return g(e.target.value)},style:{marginRight:"10px",minWidth:"90px"},children:Object(v.jsx)("optgroup",{label:"Min Skill Level",children:je.map((function(e){return Object(v.jsx)("option",{value:e,children:e})}))})}),Object(v.jsx)("select",{defaultValue:"5.0",onChange:function(e){return w(e.target.value)},style:{minWidth:"90px"},children:Object(v.jsx)("optgroup",{label:"Max Skill Level",children:je.map((function(e){return Object(v.jsx)("option",{value:e,children:e})}))})})]}),Object(v.jsx)("div",{style:{color:"white",marginTop:"50px",marginBottom:"-100px",fontSize:"35px",fontWeight:"bold"},children:"------ OR ------"}),Object(v.jsx)(Fe,{className:"input-shadow",onClick:function(){e("/balltogether/hostmatch")},children:"Host Match"})]}),Object(v.jsx)(ze,{mapStyle:{width:"80%",minWidth:"80%",height:"90.7vh",minHeight:"90.7vh",marginLeft:"auto",marginRight:"auto",padding:"74px 0px 0px 0",position:"relative",float:"right"},filters:T,interactive:!1})]})},Be=n(16),De=n(271),Je=(n(506),n(257)),He=n.n(Je),We=n(258),Ue=n.n(We),Ge=n(259),Ve=n.n(Ge),qe=n(256),Ke=n(262),Xe=n.n(Ke),Ye=n(260),_e=n.n(Ye),Ze=n(261),Qe=n.n(Ze),$e=n(176),et=n.n($e),tt=n(263),nt=n.n(tt),at=n(265),it=n.n(at),ct=n(264),rt=n.n(ct),ot=n(582),st=n(600),lt=n(586),jt=["children","value","index"],dt=["Goalkeeper","Defender","Midfielder","Forward"];function ht(e){var t=e.name,n=e.rating,a=e.socialMedia,c=e.position,r=Object(i.useState)(),o=Object(N.a)(r,2),s=o[0],l=o[1],j=function(e){var t=parseFloat(e),n=parseInt(e);return t==n?{filledStars:n,halfStars:0,emptyStars:5-n}:t>Math.round(t)?{filledStars:Math.round(t),halfStars:0,emptyStars:5-Math.round(t)}:{filledStars:Math.round(t)-1,halfStars:1,emptyStars:5-Math.round(t)}}(n);return Object(i.useEffect)((function(){l(null)}),[e]),Object(i.useEffect)((function(){e&&!s&&l(e.rating)}),[e,s]),Object(v.jsxs)("div",{style:{textAlign:"center",marginTop:"-14px"},children:[Object(v.jsx)("h2",{style:{marginTop:"45px",marginBottom:"0px",fontWeight:"lighter",width:"200px"},children:t}),""!=c&&Object(v.jsx)("div",{style:{marginTop:"8px",marginBottom:"-10px",fontWeight:"lighter"},children:e.position}),""==c&&Object(v.jsx)("div",{style:{marginTop:"8px",marginBottom:"-10px",fontWeight:"lighter"},children:"No Preferred Position"}),s&&Object(v.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[Object(v.jsx)("h3",{style:{marginRight:"10px"},children:s}),Array(j.filledStars).fill("").map((function(e){return Object(v.jsx)(He.a,{style:{marginRight:"-3px"}})})),Array(j.halfStars).fill("").map((function(e){return Object(v.jsx)(Ue.a,{style:{marginRight:"-3px"}})})),Array(j.emptyStars).fill("").map((function(e){return Object(v.jsx)(Ve.a,{style:{marginRight:"-3px"}})}))]}),Object(v.jsx)("div",{children:a.map((function(e){return Object(v.jsx)(qe.SocialIcon,{url:e,style:{width:"40px",height:"40px",marginRight:"4px"}})}))})]})}function bt(e){var t=e.children,n=e.value,a=e.index,i=Object(De.a)(e,jt);return Object(v.jsx)("div",Object(T.a)(Object(T.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},i),{},{children:n===a&&Object(v.jsx)(ye.a,{sx:{p:3},children:Object(v.jsx)(f.a,{children:t})})}))}function ut(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var pt=Object(p.a)((function(e){return Object(v.jsx)(ot.a,Object(T.a)(Object(T.a)({},e),{},{TabIndicatorProps:{children:Object(v.jsx)("span",{className:"MuiTabs-indicatorSpan"})}}))}))({"& .MuiTabs-indicator":{display:"flex",justifyContent:"center",backgroundColor:"transparent"},"& .MuiTabs-indicatorSpan":{maxWidth:90,height:"5px",marginTop:"-0.6px",width:"100%",backgroundColor:"#242825"}}),xt=Object(p.a)((function(e){return Object(v.jsx)(st.a,Object(T.a)({disableRipple:!0},e))}))((function(e){var t=e.theme;return{textTransform:"none",fontWeight:"normal",fontSize:t.typography.pxToRem(15),marginRight:t.spacing(3),width:"170px",color:"black",backgroundColor:"rgba(255, 255, 255, 0.5)","&.Mui-selected":{color:"black",backgroundColor:"rgba(255, 255, 255, 1)"},"&.Mui-focusVisible":{backgroundColor:"rgba(100, 95, 228, 0.32)"}}}));function ft(e){var t=c.a.useState(0),n=Object(N.a)(t,2),a=n[0],i=n[1],r=e.nextMatches,o=e.matchHistory,l=(e.watchlist,e.friends),j=Object(s.f)();return Object(v.jsxs)(ye.a,{sx:{width:"100%",marginTop:"-48px"},children:[Object(v.jsx)(ye.a,{sx:{marginLeft:"70px"},children:Object(v.jsxs)(pt,{value:a,onChange:function(e,t){i(t)},"aria-label":"basic tabs example",children:[Object(v.jsx)(xt,Object(T.a)({label:"Matches"},ut(0))),Object(v.jsx)(xt,Object(T.a)({label:"Match History"},ut(1))),Object(v.jsx)(xt,Object(T.a)({label:"Watchlist"},ut(2))),Object(v.jsx)(xt,Object(T.a)({label:"Friends"},ut(3)))]})}),Object(v.jsxs)(ye.a,{sx:{backgroundColor:"#343F4B",width:"100%",height:"446px"},children:[Object(v.jsx)(bt,{value:a,index:0,children:Object(v.jsx)("div",{className:"profile-matches-container",children:r.map((function(e){return Object(v.jsxs)("div",{className:"profile-single-match-container",children:[Object(v.jsxs)("div",{className:"profile-match-text-wrapper",children:[Object(v.jsx)("b",{children:"Location: "}),e.location," ",Object(v.jsx)("br",{}),Object(v.jsx)("b",{children:"Date: "}),e.date," ",Object(v.jsx)("br",{}),Object(v.jsx)("b",{children:"Starting Time: "}),e.startingTime,Object(v.jsx)("br",{}),Object(v.jsx)("b",{children:"Duration: "}),e.duration,"h",Object(v.jsx)("br",{}),Object(v.jsx)("b",{children:"Skill Level: "}),e.skillLevel,Object(v.jsx)("br",{})]}),Object(v.jsx)(u.a,{sx:{color:"rgb(0, 178, 155)",backgroundColor:"#242825",height:"min-content",alignSelf:"center",fontSize:"14px","&:hover":{backgroundColor:"rgb(0, 178, 155)",color:"#242825"}},onClick:function(){j("/balltogether/match/"+e.id)},children:"View Match"})]})}))})}),Object(v.jsx)(bt,{value:a,index:1,children:o.map((function(e){return Object(v.jsxs)("div",{className:"profile-single-match-container",children:[Object(v.jsxs)("div",{className:"profile-match-text-wrapper",children:[Object(v.jsx)("b",{children:"Location: "}),e.location," ",Object(v.jsx)("br",{}),Object(v.jsx)("b",{children:"Date: "}),e.date," ",Object(v.jsx)("br",{}),Object(v.jsx)("b",{children:"Final Score: "}),e.finalScore," ",Object(v.jsx)("br",{}),Object(v.jsx)("b",{children:"Rating: "}),e.rating," ",Object(v.jsx)("br",{})]}),Object(v.jsx)(u.a,{sx:{color:"rgb(0, 178, 155)",backgroundColor:"#242825",height:"min-content",alignSelf:"center",fontSize:"14px","&:hover":{backgroundColor:"rgb(0, 178, 155)",color:"#242825"}},onClick:function(){j("/balltogether/match/"+e.id)},children:"View Match"})]})}))}),Object(v.jsx)(bt,{value:a,index:2}),Object(v.jsx)(bt,{value:a,index:3,children:Object(v.jsx)("div",{className:"profile-friends-container",children:l.map((function(e){return Object(v.jsxs)("div",{className:"profile-friend-container",children:[Object(v.jsxs)("div",{className:"profile-single-container",children:[Object(v.jsx)("img",{className:"friend-avatar",src:e.avatar}),e.name]}),Object(v.jsx)(u.a,{sx:{color:"rgb(0, 178, 155)",backgroundColor:"#242825",height:"min-content",alignSelf:"center",fontSize:"14px","&:hover":{backgroundColor:"rgb(0, 178, 155)",color:"#242825"}},onClick:function(){j("/balltogether/profile/"+e.userId)},children:"View Profile"})]})}))})})]})]})}var Ot=function(){var e=Object(s.g)().userId,t=(Object(s.f)(),Object(l.c)((function(e){return e})).session),n=0,a=Object(i.useState)(),r=Object(N.a)(a,2),o=r[0],j=r[1],d=Object(i.useState)(),h=Object(N.a)(d,2),b=h[0],u=h[1],p=c.a.useState(!1),x=Object(N.a)(p,2),O=x[0],g=x[1],m=Object(i.useState)(""),y=Object(N.a)(m,2),S=y[0],w=y[1],C=Object(i.useState)(""),k=Object(N.a)(C,2),I=k[0],L=k[1],M=Object(i.useState)(!1),E=Object(N.a)(M,2),R=E[0],P=E[1],z=Object(i.useState)(!1),F=Object(N.a)(z,2),A=F[0],B=F[1],D=Object(i.useState)(!1),J=Object(N.a)(D,2),H=J[0],W=J[1];return Object(i.useEffect)((function(){R&&fetch("http://localhost:8000/users/"+t.id,{method:"GET"}).then((function(e){return e.json()})).then((function(n){var a=o.friends;a.push({userId:n.id,name:n.name,avatar:n.avatar});var i=n.friends;i.push({userId:o.id,name:o.name,avatar:o.avatar}),fetch("http://localhost:8000/users/"+e,{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"PUT",body:JSON.stringify(Object(T.a)(Object(T.a)({},o),{},{friends:a}))}).then((function(e){fetch("http://localhost:8000/users/"+t.id,{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"PUT",body:JSON.stringify(Object(T.a)(Object(T.a)({},n),{},{friends:i}))}),P(!1),W(!0)}))}))}),[R]),Object(i.useEffect)((function(){A&&fetch("http://localhost:8000/users/"+t.id,{method:"GET"}).then((function(e){return e.json()})).then((function(n){for(var a=o.friends,i=-1,c=0;c<a.length;c++)a[c].userId==n.id&&(i=c);-1!=i&&a.splice(i,1);for(var r=n.friends,s=-1,l=0;l<r.length;l++)r[l].userId==o.id&&(s=l);-1!=s&&r.splice(s,1),fetch("http://localhost:8000/users/"+e,{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"PUT",body:JSON.stringify(Object(T.a)(Object(T.a)({},o),{},{friends:a}))}).then((function(e){fetch("http://localhost:8000/users/"+t.id,{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"PUT",body:JSON.stringify(Object(T.a)(Object(T.a)({},n),{},{friends:r}))}),B(!1),W(!1)}))}))}),[A]),Object(i.useEffect)((function(){""!=I&&""!=S?fetch("http://localhost:8000/users/"+e,{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"PUT",body:JSON.stringify(Object(T.a)(Object(T.a)({},o),{},{avatar:I,preferredPosition:S}))}).then((function(e){return e.json()})).then((function(e){j(e),o.friends.forEach((function(e){fetch("http://localhost:8000/users/"+e.userId,{method:"GET"}).then((function(e){return e.json()})).then((function(t){for(var n,a=t.friends,i=0;i<a.length;i++)a[i].userId==o.id&&(n=a[i],a[i]={userId:n.userId,name:n.name,avatar:I});fetch("http://localhost:8000/users/"+e.userId,{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"PUT",body:JSON.stringify(Object(T.a)(Object(T.a)({},t),{},{friends:Object(Be.a)(a)}))})}))}))})):""!=I?fetch("http://localhost:8000/users/"+e,{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"PUT",body:JSON.stringify(Object(T.a)(Object(T.a)({},o),{},{avatar:I}))}).then((function(e){return e.json()})).then((function(e){j(e),o.friends.forEach((function(e){fetch("http://localhost:8000/users/"+e.userId,{method:"GET"}).then((function(e){return e.json()})).then((function(t){for(var n,a=t.friends,i=0;i<a.length;i++)a[i].userId==o.id&&(n=a[i],a[i]={userId:n.userId,name:n.name,avatar:I});fetch("http://localhost:8000/users/"+e.userId,{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"PUT",body:JSON.stringify(Object(T.a)(Object(T.a)({},t),{},{friends:Object(Be.a)(a)}))})}))}))})):""!=S&&fetch("http://localhost:8000/users/"+e,{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"PUT",body:JSON.stringify(Object(T.a)(Object(T.a)({},o),{},{preferredPosition:S}))}).then((function(e){return e.json()})).then((function(e){j(e)}))}),[I,S]),Object(i.useEffect)((function(){e&&fetch("http://localhost:8000/users/"+e,{method:"GET"}).then((function(e){return e.json()})).then((function(n){j(n),e!=t.id&&(W(!1),n.friends.forEach((function(e){e.userId==t.id&&W(!0)})))}))}),[e]),Object(i.useEffect)((function(){o&&(o.matchHistory.forEach((function(e){n+=parseFloat(e.rating)/o.matchHistory.length})),u(n.toFixed(2)))}),[o,e]),Object(v.jsxs)("div",{children:[Object(v.jsx)(oe,{}),o&&o.id==e&&b&&Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"profile-layer",children:[Object(v.jsx)("div",{className:"avatar-container",children:Object(v.jsx)("img",{className:"avatar",src:o.avatar})}),Object(v.jsx)("div",{className:"player-info-container",children:Object(v.jsx)(ht,{name:o.name,rating:b,socialMedia:o.socialMedia,position:o.preferredPosition})}),Object(v.jsx)("div",{id:"trapezoid"}),Object(v.jsxs)("div",{className:"profile-options-container",children:[e!=t.id&&Object(v.jsxs)("div",{style:{height:"100%",display:"contents"},children:[Object(v.jsxs)(f.a,{children:[!H&&Object(v.jsx)(_e.a,{sx:{width:"40px",height:"40px",color:"rgba(170, 170, 170, 1)","&:hover":{color:"rgba(250, 250, 250, 1)"},cursor:"pointer"},onClick:function(){P(!0)}}),H&&Object(v.jsx)(Qe.a,{sx:{width:"40px",height:"40px",color:"rgba(170, 170, 170, 1)","&:hover":{color:"rgba(250, 250, 250, 1)"},cursor:"pointer"},onClick:function(){B(!0)}})]}),Object(v.jsx)(f.a,{children:Object(v.jsx)(Xe.a,{sx:{width:"40px",height:"40px",color:"rgba(170, 170, 170, 1)","&:hover":{color:"rgba(250, 250, 250, 1)"},cursor:"pointer"}})}),Object(v.jsx)(f.a,{children:Object(v.jsx)(et.a,{sx:{width:"40px",height:"40px",color:"rgba(170, 170, 170, 1)","&:hover":{color:"rgba(250, 250, 250, 1)"},cursor:"pointer"}})}),Object(v.jsx)(f.a,{children:Object(v.jsx)(nt.a,{sx:{width:"40px",height:"40px",color:"rgba(170, 170, 170, 1)","&:hover":{color:"rgba(250, 250, 250, 1)"},cursor:"pointer"}})})]}),e==t.id&&Object(v.jsxs)("div",{style:{height:"100%",display:"contents"},children:[Object(v.jsx)(f.a,{children:Object(v.jsx)(rt.a,{sx:{width:"40px",height:"40px",color:"rgba(170, 170, 170, 1)","&:hover":{color:"rgba(250, 250, 250, 1)"},cursor:"pointer"}})}),Object(v.jsx)(f.a,{children:Object(v.jsx)(et.a,{sx:{width:"40px",height:"40px",color:"rgba(170, 170, 170, 1)","&:hover":{color:"rgba(250, 250, 250, 1)"},cursor:"pointer"}})}),Object(v.jsx)(f.a,{children:Object(v.jsx)(it.a,{sx:{width:"40px",height:"40px",color:"rgba(170, 170, 170, 1)","&:hover":{color:"rgba(250, 250, 250, 1)"},cursor:"pointer"},onClick:function(){return g(!0)}})})]}),Object(v.jsx)(lt.a,{open:O,onClose:function(){return g(!1)},children:Object(v.jsxs)(ye.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"#343F4B",border:"2px solid #343F4B",boxShadow:24,p:4},children:[Object(v.jsxs)("div",{style:{color:"white",display:"flex"},children:[Object(v.jsx)("label",{children:"Change Profile Picture (paste the url): "}),Object(v.jsx)("input",{type:"text",style:{width:"100px",marginLeft:"10px"},onChange:function(e){return L(e.target.value)}})]}),Object(v.jsxs)("div",{style:{color:"white"},children:["Change Preferred Position:"," ",Object(v.jsx)("select",{onChange:function(e){return w(e.target.value)},children:dt.map((function(e){return Object(v.jsx)("option",{value:e,children:e})}))})]})]})})]})]}),Object(v.jsx)(ft,{nextMatches:o.nextMatches,matchHistory:o.matchHistory,watchlist:o.watchlist,friends:o.friends})]})]})},gt=(n(512),Object(p.a)(I.a)({marginInline:"10px",marginBottom:"40px","& label.Mui-focused":{color:"white"},"& label":{color:"white"},"& input":{color:"white"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"gray"},"&:hover fieldset":{borderColor:"white"},"&.Mui-focused fieldset":{borderColor:"white"}}}),Object(p.a)(u.a)({color:"rgb(0, 178, 155)",backgroundColor:"black",fontSize:"25px",padding:"16px 50px 16px 50px",marginTop:"30px","&:hover":{backgroundColor:"#293030"}}));var mt=function(){var e=Object(i.useState)(),t=Object(N.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)(),r=Object(N.a)(c,2),o=r[0],j=r[1],d=Object(i.useState)(),h=Object(N.a)(d,2),b=h[0],u=h[1],p=Object(i.useState)(),x=Object(N.a)(p,2),f=x[0],O=x[1],g=Object(i.useState)(),m=Object(N.a)(g,2),y=m[0],S=m[1],w=Object(i.useState)(),C=Object(N.a)(w,2),k=C[0],I=C[1],L=Object(i.useState)(),M=Object(N.a)(L,2),E=M[0],R=M[1],A=Object(i.useState)(!1),D=Object(N.a)(A,2),J=D[0],H=D[1],W=Object(i.useState)(!1),U=Object(N.a)(W,2),G=U[0],V=U[1],q=Object(i.useState)(!1),K=Object(N.a)(q,2),X=K[0],Y=K[1],_=Object(i.useState)(!1),Z=Object(N.a)(_,2),Q=Z[0],$=Z[1],ee=Object(i.useState)(!1),te=Object(N.a)(ee,2),ne=te[0],ae=te[1],ie=Object(i.useState)(),ce=Object(N.a)(ie,2),re=ce[0],se=ce[1],le=Object(i.useState)([]),de=Object(N.a)(le,2),he=de[0],be=de[1],ue=Object(l.c)((function(e){return e})).session,pe=Object(s.f)(),xe=0,fe=Object(i.useCallback)((function(e){se(e)}),[re]),Oe=Object(i.useCallback)((function(e){a(e)}),[n]);return Object(i.useEffect)((function(){if(G&&re){var e=b.split("-"),t=e[2]+"/"+e[1]+"/"+e[0];J?fetch("http://localhost:8000/users/"+ue.id,{method:"GET"}).then((function(e){return e.json()})).then((function(e){e.matchHistory.forEach((function(t){xe+=parseFloat(t.rating)/e.matchHistory.length})),fetch("http://localhost:8000/matches",{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:JSON.stringify({host:e.name,numberOfSpotsLeft:parseInt(o)-1,totalNumberOfPlayers:parseInt(o),date:t,startingTime:f,duration:k,skillLevel:y,description:E,finalScore:"",location:{name:n,latitude:re.lat,longitude:re.lng},blueTeam:[{userId:e.id,name:e.name,avgRating:xe.toFixed(2)}],redTeam:[]})}).then((function(e){return $(!0),ae(!0),e.json()})).then((function(e){var t=e.id;fetch("http://localhost:8000/users/"+ue.id,{method:"GET"}).then((function(e){return e.json()})).then((function(e){fetch("http://localhost:8000/users/"+ue.id,{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"PUT",body:JSON.stringify(Object(T.a)(Object(T.a)({},e),{},{nextMatches:[].concat(Object(Be.a)(e.nextMatches),[{id:t,location:n,date:b,startingTime:f,duration:k,skillLevel:y}])}))})}))}))})):fetch("http://localhost:8000/users/"+ue.id,{method:"GET"}).then((function(e){return e.json()})).then((function(e){fetch("http://localhost:8000/matches",{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:JSON.stringify({host:e.name,numberOfSpotsLeft:parseInt(o),totalNumberOfPlayers:parseInt(o),date:t,startingTime:f,duration:k,skillLevel:y,description:E,finalScore:"",location:{name:n,latitude:re.lat,longitude:re.lng},blueTeam:[],redTeam:[]})}).then((function(e){$(!0),ae(!0)}))}))}}),[G]),Object(i.useEffect)((function(){Q&&setTimeout((function(){pe("/balltogether/home")}),2500)}),[Q]),Object(v.jsxs)("div",{className:"hostmatch-wrapper",children:[Object(v.jsx)(oe,{}),Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsxs)("div",{className:"hostmatch-options-wrapper",children:[Object(v.jsx)("h2",{style:{color:"white",marginBottom:"35px",fontSize:"35px"},children:"Host Match"}),Object(v.jsxs)("div",{style:{display:"grid"},children:[Object(v.jsx)("label",{style:{color:"white",fontSize:"20px",fontWeight:"bold",paddingBottom:"10px"},children:"Pick the match location on the map*"}),Object(v.jsxs)("div",{className:"input-separator-wrapper",children:[Object(v.jsxs)("div",{className:"input-single-label",children:[Object(v.jsx)("label",{style:{color:"white"},children:"Number of Players* "}),Object(v.jsx)("input",{className:"input-shadow",type:"number",onChange:function(e){return j(e.target.value)},required:!0})]}),Object(v.jsxs)("div",{className:"input-single-label",children:[Object(v.jsx)("label",{style:{color:"white"},children:"Date* "}),Object(v.jsx)("input",{className:"input-shadow",type:"date",onChange:function(e){return u(e.target.value)},min:(new Date).toISOString().split("T")[0],required:!0})]})]}),Object(v.jsxs)("div",{className:"input-separator-wrapper",children:[Object(v.jsxs)("div",{className:"input-single-label",children:[Object(v.jsx)("label",{style:{color:"white"},children:"Starting Time* "}),Object(v.jsx)("input",{className:"input-shadow",type:"time",onChange:function(e){return O(e.target.value)},defaultValue:(new Date).toTimeString().split(" ")[0].slice(0,-3),required:!0})]}),Object(v.jsxs)("div",{className:"input-single-label",children:[Object(v.jsx)("label",{style:{color:"white"},children:"Recommended Level* "}),Object(v.jsx)("select",{onChange:function(e){return S(e.target.value)},required:!0,children:je.map((function(e){return Object(v.jsx)("option",{value:e,children:e})}))})]})]}),Object(v.jsxs)("div",{className:"input-separator-wrapper",children:[Object(v.jsxs)("div",{className:"input-single-label",children:[Object(v.jsx)("label",{style:{color:"white"},children:"Duration* "}),Object(v.jsx)("input",{className:"input-shadow",type:"time",onChange:function(e){return I(e.target.value)},defaultValue:"00:00",required:!0})]}),Object(v.jsxs)("div",{className:"input-single-label",children:[Object(v.jsx)("label",{style:{color:"white"},children:"Description "}),Object(v.jsx)("input",{className:"input-shadow",type:"text",onChange:function(e){return R(e.target.value)}})]})]}),Object(v.jsx)("label",{style:{color:"white"},children:"Will you participate in this match as a player?"}),Object(v.jsx)("input",{style:{placeSelf:"center",height:"20px",width:"20px",boxShadow:"3px 3px rgb(0 178 155 / 60%)",borderRadius:"10px"},type:"checkbox",onClick:function(){return H(!J)}})]}),Object(v.jsx)(F.a,{in:X,children:Object(v.jsxs)(P.a,{variant:"filled",severity:"error",sx:{paddingInline:"10px",width:"290px",margin:"10px"},action:Object(v.jsx)(z.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){Y(!1),be([])},children:Object(v.jsx)(B.a,{fontSize:"inherit"})}),children:["Please fill in the mandatory fields:"," ",he.map((function(e){return he.at(-1)==e?e+".":e+", "}))]})}),Object(v.jsx)("label",{style:{color:"white",paddingInline:"100px"},children:"* = Mandatory fields"}),Object(v.jsx)(gt,{className:"input-shadow",onClick:function(){if(n&&b&&o&&k&&y&&re)V(!0);else{var e=[];re||e.push("Location"),b||e.push("Date"),o||e.push("Number of Players"),y||e.push("Skill Level"),k||e.push("Duration"),be(e),Y(!0)}},children:"Create Match"}),Object(v.jsx)(F.a,{in:ne,children:Object(v.jsx)(P.a,{variant:"filled",severity:"success",sx:{paddingInline:"10px",marginTop:"30px",width:"300px"},action:Object(v.jsx)(z.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){ae(!1)},children:Object(v.jsx)(B.a,{fontSize:"inherit"})}),children:"Successfully created match! Redirecting..."})})]}),Object(v.jsx)(ze,{mapStyle:{width:"70%",minWidth:"70%",height:"90.7vh",minHeight:"90.7vh",marginLeft:"auto",marginRight:"auto",padding:"74px 0px 0px 0",position:"relative",float:"right"},filters:void 0,marker:re,markerCallback:fe,interactive:!0,location:n,locationCallback:Oe})]})]})},vt=(n(513),n(177)),yt=n.n(vt),St=n(590),wt=Object(p.a)(u.a)({color:"white",backgroundColor:"#343f4b",fontSize:"23px",textTransform:"none",fontWeight:"normal",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen','Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',sans-serif","&:hover":{backgroundColor:"#272d35"},padding:"5px 80px 5px 80px",marginTop:"10px"});var Ct=function(){var e=Object(i.useState)("0.0"),t=Object(N.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)("0.0"),o=Object(N.a)(r,2),j=o[0],d=o[1],h=Object(l.c)((function(e){return e})).session,b=c.a.useState(null),u=Object(N.a)(b,2),p=u[0],x=u[1],O=Boolean(p),g=Object(s.f)(),m=c.a.useState(!1),y=Object(N.a)(m,2),S=y[0],w=y[1],C=Object(s.g)().matchId,k=Object(i.useState)(),I=Object(N.a)(k,2),L=I[0],M=I[1],E=Object(i.useState)(),R=Object(N.a)(E,2),A=R[0],D=R[1],J=Object(i.useState)(),H=Object(N.a)(J,2),W=H[0],U=H[1],G=Object(i.useState)(!0),V=Object(N.a)(G,2),q=V[0],K=V[1],X=Object(i.useState)(!1),Y=Object(N.a)(X,2),_=Y[0],Z=Y[1],Q=Object(i.useState)(!0),$=Object(N.a)(Q,2),ee=$[0],te=$[1],ne=Object(i.useState)(!0),ae=Object(N.a)(ne,2),ie=ae[0],ce=ae[1],re=function(){fetch("http://localhost:8000/users/"+h.id,{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"PUT",body:JSON.stringify(Object(T.a)(Object(T.a)({},A),{},{nextMatches:[].concat(Object(Be.a)(A.nextMatches),[{id:L.id,location:L.location.name,date:L.date,startingTime:L.startingTime,duration:L.duration,skillLevel:L.skillLevel}])}))}).then((function(e){return e.json()})).then((function(e){D(e)}))},se=function(){for(var e=L.blueTeam,t=-1,n=0;n<e.length;n++)e[n].userId==A.id&&(t=n);-1!=t&&(e.splice(t,1),te(!0));for(var i=L.redTeam,c=-1,r=0;r<i.length;r++)i[r].userId==A.id&&(c=r);-1!=c&&(i.splice(c,1),ce(!0)),K(!0),fetch("http://localhost:8000/matches/"+C,{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"PUT",body:JSON.stringify(Object(T.a)(Object(T.a)({},L),{},{numberOfSpotsLeft:L.numberOfSpotsLeft+1,redTeam:i,blueTeam:e}))}).then((function(e){return e.json()})).then((function(e){M(e),0!=e.blueTeam.length?a(pe(e.blueTeam)):a("0.0"),0!=e.redTeam.length?d(pe(e.redTeam)):d("0.0")})),function(){for(var e=A.nextMatches,t=-1,n=0;n<e.length;n++)e[n].id==L.id&&(t=n);-1!=t&&e.splice(t,1),fetch("http://localhost:8000/users/"+h.id,{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"PUT",body:JSON.stringify(Object(T.a)(Object(T.a)({},A),{},{nextMatches:e}))}).then((function(e){return e.json()})).then((function(e){D(e)}))}()};return Object(i.useEffect)((function(){C&&(fetch("http://localhost:8000/matches/"+C,{method:"GET"}).then((function(e){return e.json()})).then((function(e){M(e),0!=e.blueTeam.length?a(pe(e.blueTeam)):a("0.0"),0!=e.redTeam.length?d(pe(e.redTeam)):d("0.0")})),fetch("http://localhost:8000/users/"+h.id,{method:"GET"}).then((function(e){return e.json()})).then((function(e){D(e)})))}),[C]),Object(i.useEffect)((function(){if(A){var e=0;A.matchHistory.forEach((function(t){e+=parseFloat(t.rating)/A.matchHistory.length})),U(e.toFixed(2))}}),[A]),Object(i.useEffect)((function(){L&&(L.redTeam.forEach((function(e){e.userId==h.id&&K(!1)})),q&&L.blueTeam.forEach((function(e){e.userId==h.id&&K(!1)})),L.redTeam.length>=L.totalNumberOfPlayers/2&&ce(!1),L.blueTeam.length>=L.totalNumberOfPlayers/2&&te(!1))}),[L]),Object(v.jsxs)("div",{className:"global-match-wrapper",children:[Object(v.jsx)(oe,{}),L&&C==L.id&&Object(v.jsxs)("div",{className:"match-wrapper",children:[Object(v.jsxs)("div",{className:"team-wrapper",style:{paddingRight:"200px"},children:[Object(v.jsx)("h3",{className:"team-header",children:"Blue Team"}),Object(v.jsxs)("div",{children:[L.blueTeam.map((function(e){return Object(v.jsxs)("div",{className:"player-wrapper-blue player-wrapper",style:{cursor:"pointer"},onClick:function(){g("/balltogether/profile/"+e.userId)},children:[Object(v.jsx)(yt.a,{sx:{fontSize:"40px",padding:"10px"}}),Object(v.jsx)("div",{children:e.name})]})})),Object(v.jsxs)("h3",{className:"avg-rating-header",children:["Average Rating: ",n]})]}),""==L.finalScore&&_&&ee&&Object(v.jsx)(wt,{sx:{backgroundColor:"#00A6FF","&:hover":{backgroundColor:"#005989"},alignSelf:"center",paddingInline:"70px"},onClick:function(){K(!1),Z(!1),fetch("http://localhost:8000/matches/"+C,{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"PUT",body:JSON.stringify(Object(T.a)(Object(T.a)({},L),{},{numberOfSpotsLeft:L.numberOfSpotsLeft-1,blueTeam:[].concat(Object(Be.a)(L.blueTeam),[{userId:A.id,name:A.name,avgRating:W}])}))}).then((function(e){return e.json()})).then((function(e){M(e),0!=e.blueTeam.length?a(pe(e.blueTeam)):a("0.0"),0!=e.redTeam.length?d(pe(e.redTeam)):d("0.0")})),re()},children:"Join Blue Team"})]}),Object(v.jsxs)("div",{className:"match-info-wrapper",children:[Object(v.jsx)("h2",{children:"Match Details"}),Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"Date: "}),L.date]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"Starting Time: "}),L.startingTime]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"Location: "}),L.location.name]}),Object(v.jsxs)("div",{style:{display:"inline-flex"},children:[Object(v.jsx)("b",{children:"Score: "}),""!=L.finalScore&&Object(v.jsxs)("div",{style:{paddingLeft:"10px"},children:[" ",L.finalScore]}),""==L.finalScore&&Object(v.jsx)("div",{style:{paddingLeft:"10px"},children:" Match not yet played"})]}),Object(v.jsx)(F.a,{in:S,children:Object(v.jsx)(P.a,{variant:"filled",severity:"error",sx:{marginTop:"20px",width:"320px"},action:Object(v.jsx)(z.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){w(!1)},children:Object(v.jsx)(B.a,{fontSize:"inherit"})}),children:"Couldn't join match, match is full or you've already joined!"})}),Object(v.jsxs)("div",{style:{display:"inline-grid",marginBottom:"-50px",marginTop:"20px"},children:[""==L.finalScore&&q&&Object(v.jsx)(wt,{sx:{backgroundColor:"#00ad45","&:hover":{backgroundColor:"#007842"}},onClick:function(){0==L.numberOfSpotsLeft||0==q?w(!0):Z(!0)},children:"Join Match"}),""==L.finalScore&&!q&&Object(v.jsx)(wt,{sx:{backgroundColor:"#e30000","&:hover":{backgroundColor:"#7d0000"}},onClick:function(){se()},children:"Leave Match"}),Object(v.jsx)(wt,{onClick:function(e){x(e.currentTarget)},children:"View Match Info"}),Object(v.jsx)(wt,{children:"Share Match"}),Object(v.jsx)(wt,{children:"Add to Watchlist"}),Object(v.jsx)(wt,{children:"Contact Host"}),Object(v.jsx)(St.a,{open:O,anchorEl:p,onClose:function(){x(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(v.jsxs)(f.a,{sx:{p:2},children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"Match Format: "}),L.totalNumberOfPlayers/2," v"," ",L.totalNumberOfPlayers/2]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"Duration: "}),L.duration,"h"]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"Description: "}),L.description]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("b",{children:"Host Name: "}),L.host]})]})})]})]}),Object(v.jsxs)("div",{className:"team-wrapper",style:{paddingLeft:"200px"},children:[Object(v.jsx)("h3",{className:"team-header",children:"Red Team"}),Object(v.jsxs)("div",{children:[L.redTeam.map((function(e){return Object(v.jsxs)("div",{className:"player-wrapper-red player-wrapper",style:{cursor:"pointer"},onClick:function(){g("/balltogether/profile/"+e.userId)},children:[Object(v.jsx)(yt.a,{sx:{fontSize:"40px",padding:"10px"}}),Object(v.jsx)("div",{children:e.name})]})})),Object(v.jsxs)("h3",{className:"avg-rating-header",children:["Average Rating: ",j]})]}),""==L.finalScore&&_&&ie&&Object(v.jsx)(wt,{sx:{backgroundColor:"#F95F62","&:hover":{backgroundColor:"#a33f41"},alignSelf:"center",paddingInline:"75px"},onClick:function(){K(!1),Z(!1),fetch("http://localhost:8000/matches/"+C,{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"PUT",body:JSON.stringify(Object(T.a)(Object(T.a)({},L),{},{numberOfSpotsLeft:L.numberOfSpotsLeft-1,redTeam:[].concat(Object(Be.a)(L.redTeam),[{userId:A.id,name:A.name,avgRating:W}])}))}).then((function(e){return e.json()})).then((function(e){M(e),0!=e.blueTeam.length?a(pe(e.blueTeam)):a("0.0"),0!=e.redTeam.length?d(pe(e.redTeam)):d("0.0")})),re()},children:"Join Red Team"})]})]})]})};var kt=function(){var e=Object(l.c)((function(e){return e})),t=Object(l.b)(),n=Object(j.b)(a,t);return n.login,n.logout,e.session,Object(v.jsx)("div",{className:"App",children:Object(v.jsxs)(s.c,{children:[Object(v.jsx)(s.a,{path:"/balltogether/",element:Object(v.jsx)(k,{})}),Object(v.jsx)(s.a,{path:"/balltogether/login",element:Object(v.jsx)(V,{})}),Object(v.jsx)(s.a,{path:"/balltogether/register",element:Object(v.jsx)(H,{})}),Object(v.jsx)(s.a,{path:"/balltogether/home",element:Object(v.jsx)(Ae,{})}),Object(v.jsx)(s.a,{path:"/balltogether/profile/:userId",element:Object(v.jsx)(Ot,{})}),Object(v.jsx)(s.a,{path:"/balltogether/hostmatch",element:Object(v.jsx)(mt,{})}),Object(v.jsx)(s.a,{path:"/balltogether/match/:matchId",element:Object(v.jsx)(Ct,{})})]})})},Tt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,601)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))},Nt=n(270),It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:localStorage.getItem("activeUser"),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login":case"logout":case"updateSessionInfo":return t.payload;default:return e}},Lt=Object(j.c)({session:It}),Mt=n(266),Et=Object(j.d)(Lt,null==JSON.parse(localStorage.getItem("activeUser"))?{}:JSON.parse(localStorage.getItem("activeUser")),Object(j.a)(Mt.a));o.a.render(Object(v.jsx)(Nt.a,{children:Object(v.jsx)(l.a,{store:Et,children:Object(v.jsx)(kt,{})})}),document.getElementById("root")),Tt()}},[[514,1,2]]]);
//# sourceMappingURL=main.6cc90cb5.chunk.js.map